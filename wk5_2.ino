#include<Wire.h>
#include<SPI.h>
#include<Adafruit_GFX.h>
#include<Adafruit_SSD1306.h>

/*
OLED板子接腳與Arduino接腳對應
D1(MOSI) : 11
D0(CLK) : 12
DC : 9
CS : 8
RES : 10
Light_PIN A0 (光敏電阻接腳設定)------------------------------------------------------------------------------------------------- 
*/

#define OLED_MOSI 11  //D1
#define OLED_CLK 12   //D0
#define OLED_DC 9
#define OLED_CS 8
#define OLED_RESET 10 //RES
#define Light_PIN A0
Adafruit_SSD1306 display(OLED_MOSI, OLED_CLK, OLED_DC, OLED_RESET, OLED_CS);

static const unsigned char PROGMEM LLogo[] = {
  0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
  0xff,0xfc,0x00,0x00,0x00,0x7f,0xff,0xff,
  0xff,0xf0,0x00,0x00,0x00,0x00,0x1f,0xff,
  0xff,0xe0,0x00,0x00,0x00,0x00,0x07,0xff,
  0xff,0xc0,0x00,0x00,0x00,0x00,0x01,0xff,
  0xff,0x80,0x00,0x00,0x00,0x00,0x00,0xff,
  0xff,0x80,0x01,0xe0,0x00,0x00,0x00,0xff,
  0xff,0x00,0x1f,0xef,0x00,0x0f,0x00,0x7f,
  0xfe,0x00,0x3f,0xf1,0x80,0x7f,0xc0,0x3f,
  0xf0,0x38,0x00,0x0f,0x83,0xe0,0x00,0x0f,
  0xe1,0x87,0x83,0x00,0x00,0x80,0x06,0x07,
  0xc2,0x18,0x38,0x00,0x00,0x81,0xf0,0x07,
  0xc6,0x3e,0x00,0x03,0x00,0x60,0x04,0x07,
  0xc2,0xf1,0xe0,0x04,0x00,0x18,0x0c,0x0f,
  0xc2,0x18,0x3e,0x04,0xf0,0x38,0x0e,0x1f,
  0xe0,0x1e,0x21,0xf0,0x03,0xc0,0x3e,0x1f,
  0xf8,0x07,0xf0,0x1f,0xc1,0x03,0xf7,0x3f,
  0xfc,0x02,0x3f,0x10,0x1f,0xff,0x17,0x3f,
  0xfe,0x01,0xb7,0xf0,0x10,0x41,0xbf,0x3f,
  0xff,0x00,0xe0,0x3f,0xff,0xff,0xfe,0x3f,
  0xff,0x80,0x70,0x21,0xff,0xff,0xfe,0x3f,
  0xff,0xc0,0x1c,0x60,0x27,0xff,0xde,0x3f,
  0xff,0xe0,0x03,0xc0,0x20,0x84,0x9c,0x3f,
  0xff,0xfc,0x80,0x7c,0x60,0x8d,0xf8,0x3f,
  0xff,0xff,0x00,0x03,0xff,0xff,0x00,0x3f,
  0xff,0xff,0xe0,0x00,0x00,0x00,0x00,0x3f,
  0xff,0xff,0xfe,0x00,0x00,0x00,0x00,0x1f,
  0xff,0xff,0xff,0xc0,0x00,0x00,0x00,0x1f,
  0xff,0xff,0xff,0xf8,0x00,0x00,0x00,0x3f,
  0xff,0xff,0xff,0xff,0xe0,0x00,0x00,0x7f,
  0xff,0xff,0xff,0xff,0xff,0x80,0x03,0xff,
  0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
};
static const unsigned char PROGMEM RLogo[] = {
  0x00,0x00,0x0f,0xff,0xff,0xff,0xc0,0x00,
  0x00,0x0f,0xf8,0x00,0x00,0x00,0x30,0x00,
  0x00,0x70,0x00,0x00,0x00,0x00,0x0c,0x00,
  0x01,0x80,0x00,0x00,0x00,0x00,0x06,0x00,
  0x06,0x00,0x00,0x00,0x00,0x00,0x03,0x00,
  0x04,0x00,0x00,0x00,0x00,0x00,0x01,0x80,
  0x0c,0x00,0x00,0x00,0x1f,0x80,0x00,0xc0,
  0x18,0x03,0xe0,0x00,0xe7,0xf8,0x00,0x60,
  0x30,0x0f,0xfc,0x03,0x0f,0xfc,0x00,0x78,
  0x40,0x00,0x1f,0x83,0xf1,0x00,0x1e,0x0c,
  0xc1,0xc0,0x02,0x00,0x00,0xc1,0xe1,0x82,
  0xc2,0x3b,0x06,0x00,0x00,0x3c,0x08,0x41,
  0xc0,0x40,0x0c,0x00,0x00,0x00,0x7c,0x21,
  0xc0,0xc0,0x30,0x00,0x60,0x03,0x8f,0x61,
  0x60,0xe0,0x38,0x1f,0x60,0x7c,0x18,0x43,
  0x21,0xf0,0x07,0x80,0x4f,0x8c,0x78,0x06,
  0x31,0xdf,0x00,0x03,0xf8,0x0f,0xf0,0x0c,
  0x11,0xd3,0xff,0xf8,0x18,0xfc,0x60,0x30,
  0x11,0xfb,0x04,0x10,0x1f,0xed,0x80,0x60,
  0x11,0xff,0xff,0xff,0xfe,0x07,0x00,0xc0,
  0x11,0xff,0xff,0xff,0xcc,0x0c,0x01,0x80,
  0x10,0xff,0xff,0xec,0x04,0x30,0x03,0x00,
  0x10,0xf6,0x46,0x0c,0x07,0xc0,0x06,0x00,
  0x10,0x3e,0x62,0x0c,0x3e,0x00,0x18,0x00,
  0x10,0x03,0xff,0xff,0xc0,0x00,0xe0,0x00,
  0x10,0x00,0x00,0x00,0x00,0x07,0x00,0x00,
  0x10,0x00,0x00,0x00,0x00,0x3c,0x00,0x00,
  0x30,0x00,0x00,0x00,0x03,0xc0,0x00,0x00,
  0x10,0x00,0x00,0x00,0x1c,0x00,0x00,0x00,
  0x18,0x00,0x00,0x01,0xe0,0x00,0x00,0x00,
  0x06,0x00,0x00,0xfe,0x00,0x00,0x00,0x00,
  0x01,0xff,0xff,0x00,0x00,0x00,0x00,0x00,
};

void splash(){
  int light = analogRead(Light_PIN);
  display.clearDisplay(); //清除清除螢幕和緩衝區
  
  display.setTextColor(WHITE); //設定文字顏色
  display.setTextSize(1); //調整文字大小
  display.setCursor(75, 10); //調整文字座標位置
  display.print("Troll"); //印出想顯示的文字
  display.setTextSize(1);
  display.setCursor(82, 20);
  display.print("Face.");
  if(light>=128) display.drawBitmap(0, 0, LLogo, 64, 32, WHITE); //印出想顯示的圖片(X座標, Y座標, 圖片名稱, 寬, 高, WHITE) PS：圖片解析度為多少，寬高就要設定多少
  else display.drawBitmap(0, 0, RLogo, 64, 32, WHITE);
  display.display(); //顯示畫面
  
  delay(1);
}

void setup() {
  // put your setup code here, to run once:
  Serial.begin(9600);
  pinMode(Light_PIN, INPUT);

  display.begin(SSD1306_SWITCHCAPVCC, 0x3D); //初始化OLED
  display.clearDisplay(); //清除清除螢幕和緩衝區
  display.setTextWrap(false);

}

void loop() {
  // put your main code here, to run repeatedly:
  splash();
}




















